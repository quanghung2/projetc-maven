<ng-container *ngIf="user">
  <div
    class="container flex justify-content-start align-items-center gap-8"
    [ngClass]="{
      large: isLarge,
      small: isSmall
    }"
  >
    <ng-container *ngIf="!user.hasPhoto; else hasAvatar">
      <span class="no-avatar flex justify-content-center align-items-center" [class.large]="isLarge">
        {{ user.displayName | firstWord }}
        <span *ngIf="showStatus" class="status" [class]="user?.status"></span>
      </span>
    </ng-container>
    <ng-template #hasAvatar>
      <div class="avatar" [class.large]="isLarge" [style.background-image]="photoUrl">
        <div *ngIf="showStatus" class="status" [class]="user?.status"></div>
      </div>
    </ng-template>

    <span
      *ngIf="showDisplayName"
      [innerHTML]="user.displayName | highlight: key"
      class="displayName text-ellipsis"
    ></span>
  </div>
</ng-container>

<ng-container *ngIf="integration">
  <div
    class="container flex justify-content-start align-items-center gap-8"
    [ngClass]="{
      disabled: true,
      large: isLarge
    }"
  >
    <ng-container *ngIf="!integration.hasPhoto; else hasAvatar">
      <mat-icon class="icon-smart-toy">smart_toy</mat-icon>
    </ng-container>
    <ng-template #hasAvatar>
      <div class="avatar" [class.large]="isLarge" [style.background-image]="photoUrl"></div>
    </ng-template>

    <span
      *ngIf="showDisplayName"
      [innerHTML]="integration.displayName | highlight: key"
      class="displayName text-ellipsis"
    ></span>
  </div>
</ng-container>
